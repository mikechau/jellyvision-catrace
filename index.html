<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Nyan Cat Race</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="javascripts/jquery.min.js"></script>
  <script src="javascripts/jquery.marquee.js"></script>
</head>

<body>
<br /><br /><br /><br />

<div id="Poopsie">
  <img src="images/nyan-cat.gif" alt="Poopsie" height="80">
</div>

<div id="Mayonnaise">
  <img src="images/rasta-nyan-cat.gif" alt="Mayonnaise" height="80">
</div>

<div id="button-holder">
  <button id="button-race" type="button">Race!</button>
  <button id="button-restart" type="button" onClick="window.location.reload()">Restart</button>
  <a href="index-marquee.html"><button id="button-link" type="button">Marquee HTML Version (with some jQuery)</button></a>
</div>

<script>
// At first I thought I could have been clever and use the html marquee tag (the 90s called, they want their html tags back, also yay non compliance!)
// unfortunately it did not seem like onfinish works with it... :(

$('#button-race').click(function(){

  // function to generate random numbers
  function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  // generate random speeds for the cats
  var pSpeed = getRandomInt(0, 4242);
  var mSpeed = getRandomInt(0, 4242);

  function getWinner() {
    // The lower the speed, the faster the animation
    // returns the cat with the fastest animation
    if (pSpeed > mSpeed) {
      return 'Mayonnaise';
    }
    else {
      return 'Poopsie';
    }
  }

  var champion = getWinner();

  // call the jquery plugin with the cat details
  $('#Poopsie').marquee({
      racer: 'Poopsie',
      speed: pSpeed,
      winner: champion
  });

  $('#Mayonnaise').marquee({
      racer: 'Mayonnaise',
      speed: mSpeed,
      winner: champion
  });

});
</script>

</body>
</html>
